---
import { getCollection, render } from 'astro:content';
import InfoCard from './InfoCard.svelte';

interface Props {
  lang: 'en' | 'el';
}

const { lang }: Props = Astro.props;
const collectionName = (lang + 'Bio') as 'enBio' | 'elBio';

const sections = await getCollection(collectionName);
const renderedSections = await Promise.all(sections.map(s => render(s)));
---

<h2 class="mt-12 md:text-4xl text-3xl">About me</h2>
<div id="about" class="flex flex-wrap gap-6 pr-6 pl-6 pt-3 pb-3">
  {
    renderedSections.map(({ remarkPluginFrontmatter, Content }) => (
      <InfoCard title={remarkPluginFrontmatter.title}>
        <Content />
      </InfoCard>
    ))
  }
</div>
